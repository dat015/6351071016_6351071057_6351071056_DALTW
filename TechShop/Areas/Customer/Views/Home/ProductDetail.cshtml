@{
    Layout = "_Layout";
}
@model TechShop.ViewModel.DetailProductVM
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    html {
        scroll-behavior: smooth;
    }

</style>
<style>
    .comments-section {
        margin-top: 20px;
    }

    .comment {
        margin-bottom: 15px;
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }

    .user-info {
        display: flex;
        align-items: center;
    }

    .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .user-name {
        font-weight: bold;
    }

    .comment-content {
        margin: 5px 0;
    }


    .comment-date {
        font-size: 12px;
        color: #777;
    }

    .admin-reply {
        margin-top: 10px;
        padding: 10px;
        background-color: #f9f9f9;
        border-left: 4px solid #007bff;
    }

    .admin-reply-content {
        margin: 0;
    }

    .admin-reply-date {
        font-size: 12px;
        color: #777;
    }

    .add-comment {
        margin-top: 20px;
    }

        .add-comment textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
        }

        .add-comment button {
            display: block;
            width: 100%;
        }

    .related-products {
        list-style: none;
        padding: 0;
        display: grid;
        grid-template-columns: 1fr; /* Mỗi hàng chỉ chứa một sản phẩm */
        gap: 16px; /* Khoảng cách giữa các sản phẩm */
    }

    .related-product-item {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 120px; /* Chiều cao của mỗi sản phẩm */
        margin: 0 auto; /* Căn giữa sản phẩm */
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 4px;
        overflow: hidden;
        transition: box-shadow 0.3s;
    }

        .related-product-item:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

    .related-product-img {
        height: 100%;
        width: 120px; /* Chiều rộng ảnh sản phẩm */
        object-fit: cover; /* Đảm bảo ảnh bao phủ toàn bộ khung hình */
    }

    .related-product-info {
        padding: 10px;
        text-align: left;
        flex: 1; /* Chiếm không gian còn lại trong item */
    }

    .related-product-name {
        font-size: 14px;
        font-weight: bold;
        margin: 5px 0;
    }

    .related-product-price {
        color: #ef1200;
        font-size: 16px;
    }
</style>
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="breadcrumb-item">Product</li>
        <li class="breadcrumb-item active" aria-current="page">
            @Model.product.Product.ProductName


        </li>
    </ol>
</nav>

<div class="product">
    <div class="product-name">
        <h5>
            <strong>
                @(Model.product.Product.ProductName

                    + " (" + Model.product.Config.CPU.TenCPU
                    + ", " + Model.product.Config.CardDoHoa.TenCardDoHoa
                    + ", " + Model.product.Config.RAM.DungLuong
                    + ", " + Model.product.Config.ManHinh.KichThuocManHinh + ")")
            </strong>

        </h5>
    </div>
    <div class="product-info">
        <div class="info-img">
            <img src="@Model.product.Product.Img" />
        </div>
        <div class="info">
            <h3 style="    color: #ef1200;font-weight: bold;font-size: 30px;line-height: 30px;">@Model.product.Price.ToString("#,##0.##") đ</h3>
            <b>Bảo hành: </b>
            <span>@Model.product.Product.warranty tháng</span>
            <br />
            <b>Tình trạng: </b>
            <span>
                @(Model.product.Product.StockQuantity <= 0 ? "Hết hàng" : "Còn hàng")
            </span>
            <br />

            @if (Model.Rating != null && Model.ReviewCount != null && Model.ReviewCount > 0)
            {
                <div class="rating">
                    <b>Đánh giá: </b>
                    <span>
                        @{
                            // Tính trung bình sao
                            double averageRating = (double)Model.Rating / (double)Model.ReviewCount;
                            int fullStars = (int)Math.Floor(averageRating);
                            int halfStar = (averageRating % 1 >= 0.5) ? 1 : 0;
                            int emptyStars = 5 - fullStars - halfStar;
                        }
                        @for (int i = 0; i < fullStars; i++)
                        {
                            <i class="fas fa-star" style="color: #ffd700;"></i>
                        }
                        @if (halfStar == 1)
                        {
                            <i class="fas fa-star-half-alt" style="color: #ffd700;"></i>
                        }
                        @for (int i = 0; i < emptyStars; i++)
                        {
                            <i class="far fa-star" style="color: #ffd700;"></i>
                        }
                        (Dựa trên @Model.ReviewCount đánh giá)
                    </span>
                </div>
            }

            <div class="product-link">
                <a href="#SectionConfig"><span>Xem chi tiết cấu hình</span></a>
            </div>
            <div class="config" style="padding-bottom: 10px;">
                <p style="margin-bottom: 5px;"><strong>CẤU HÌNH:</strong></p>
                <ul class="list-config" style="padding: 0; list-style: none;">
                    @if (Model.cauHinhs != null)
                    {
                        foreach (var item in Model.cauHinhs)
                        {
                            <li class="config-item"
                                style="background: #dddddd3d; cursor: pointer;"
                                data-productid="@item.ProductId"
                                data-configid="@item.ConfigId">
                                <a href="@Url.Action("ProductDetail", "Home", new { id = item.ProductId, configId = item.ConfigId, area = "Customer" })"
                                   style="text-decoration: none; color: inherit; display: flex; align-items: center;">
                                    <!-- Checkbox -->
                                    <input type="checkbox" name="cauHinhs" value="@item.ConfigId"
                                           style="margin-right: 8px;"
                                    @(item.ConfigId == Model.product.ConfigId && Model.product.ProductId == item.ProductId ? "checked" : "") disabled />

                                    <!-- Thông tin cấu hình -->
                                    <div>
                                        <span style="font-size: 13px;">
                                            @{
                                                string configDetails = item.CPU.TenCPU + " | " + item.RAM.DungLuong + " | " + item.ODia.TenODia + " | " + item.ManHinh.KichThuocManHinh;
                                                @(configDetails = configDetails.Length > 48 ? configDetails.Substring(0, 48) + "..." : configDetails)
                                                ;
                                            }
                                        </span>
                                        <p style="margin: 0;">@item.Price.ToString("#,##0.##") đ</p>
                                    </div>
                                </a>
                            </li>

                        }
                    }
                </ul>
            </div>
            @if (Model.product.Product.StockQuantity <= 0)
            {
                <h3 style="color:#ef1200; ">Liên hệ</h3>
            }
            else
            {
                <form method="post" asp-action="AddToCart"
                      asp-controller="Cart" asp-area="Customer"
                      asp-route-id="@Model.product.ProductId"
                      asp-route-configId="@Model.product.ConfigId"
                      asp-route-quantity="1">
                    <button type="submit" class="btn btn-danger" style="
                        height: 50px;
                        width: 90%;
                        text-align: center;
                        margin-left: 11px;
                        font-size: 21px;">
                        Thêm vào giỏ hàng
                    </button>
                </form>
            }


        </div>
        <div class="contact">
            <div class="contact-item">
                <b style="color:red;">YÊN TÂM KHI MUA SẮM TẠI LAPTOP AZ</b><br />
                <ul>
                    <li><i class="bi bi-star-fill"></i> Chất lượng sản phẩm là hàng đầu</li>
                    <li><i class="bi bi-star-fill"></i> Dùng test máy 15 ngày đầu lỗi 1 đổi 1</li>
                    <li><i class="bi bi-star-fill"></i> Hỗ trợ và hậu mãi sau bán hành tốt nhất</li>
                    <li><i class="bi bi-star-fill"></i> Trả góp lãi suất 0% qua thẻ visa</li>
                    <li><i class="bi bi-star-fill"></i> Giao hàng miễn phí toàn quốc nhanh nhất</li>
                </ul>
            </div>


            <div class="contact-item">
                <ul>
                    <li><i class="bi bi-house" style="color: #2b80dd;"></i>  Số 18, ngõ 121, Thái Hà, Đống Đa, HN</li>
                    <li><i class="bi bi-house" style="color: #2b80dd;"></i> Số 56, Trần Phú, Hà Đông, HN</li>
                    <li><i class="bi bi-telephone-fill" style="color: #2b80dd;"></i>  0825.233.233</li>
                    <li><i class="bi bi-envelope-at-fill" style="color: #2b80dd;"></i> hotrolaptopaz@gmail.com</li>
                </ul>
            </div>
            <div class="contact-item" style="text-align: center; border: none;">
                <span>
                    Gọi <b>0825.233.233 </b><br />
                    để được tư vấn mua hàng (Miễn phí)
                </span>
            </div>
        </div>
    </div>
</div>


<div class="row" style="margin-top: 20px;">
    <div class="col">
        <div class="bg-white">
            <div class="title-tab">
                <h3>Đặc điểm nổi bật</h3>
            </div>
            <div class="emtry-content nd" style="font-size: 14px;">
                <section>
                    <div class="tabbedBrowse-features-textWrapper left">
                        <p><strong><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Laptop Lenovo ThinkBook&nbsp;16&nbsp;G7 có đáng để sở hữu?</span></strong></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Lenovo ThinkBook 16 G7 là chiếc laptop doanh nhân mạnh mẽ nhưng đầy phong cách. Bên cạnh bộ vi xử lý thế hệ mới nhất,&nbsp;ThinkBook 16&nbsp;G7 còn tích hợp những tính năng thông minh để tối ưu hóa cho khả năng làm việc từ xa vốn đang là xu hướng hiện nay.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3239_ThinkbookG75.png" alt="" width="603" height="395"></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Tăng cường năng suất làm việc nhờ cấu hình tiên tiến</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Lenovo ThinkBook 16 G7 có sức mạnh vượt trội nhờ việc sử dụng bộ vi xử lý Intel&nbsp;Ultra 5 125H mới nhất hiện nay. Con chip&nbsp;Intel&nbsp;Ultra 5 125H hiệu năng cao&nbsp;không chỉ cho tốc độ nhanh với 14 lõi&nbsp;18 luồng, tốc độ xung nhịp tối đa lên tới 4.50GHz. Kết hợp thêm 16GB RAM DDR5 5600 MHz và ổ cứng&nbsp;SSD dung lượng cao 1TB, bạn sẽ có một thiết bị làm việc lý tưởng, tối ưu hiệu suất trong công việc.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3181_Thinkbook-14-G6-2024-Intel-Ultra-7-155H-h6.jpg" alt=""></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Khả năng xử lý đồ họa xuất sắc</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Bộ vi xử lý&nbsp;Intel&nbsp;Ultra 5 125H tích hợp GPU đồ họa&nbsp;Intel Arc Graphics mạnh mẽ hàng đầu hiện nay. Nhờ sức mạnh đồ họa ấn tượng, Lenovo ThinkBook 16 G7 có thể chỉnh sửa ảnh, biên tập video hay chạy các ứng dụng đồ họa cơ bản, cho bạn làm được nhiều việc hơn trên chiếc laptop&nbsp;di động.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3239_ThinkbookG74.png" alt="" width="600" height="393"></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Thiết kế sang trọng và chuyên nghiệp</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Lenovo ThinkBook 16 G7 mang đến cho bạn nhiều cảm hứng làm việc hơn nhờ một thiết kế sang trọng và chuyên nghiệp. Phần viền màn hình siêu mỏng, kích thước gọn nhẹ, di động và một thiết kế rất thời thượng tạo nên chiếc máy tính xách tay đẹp đẳng cấp. Không chỉ tạo phong cách riêng, sự mỏng nhẹ của Lenovo ThinkBook 16 G7 còn giúp bạn có thể dễ dàng mang laptop đi bất cứ đâu.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3239_ThinkbookG76.png" alt="" width="605" height="399"></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Màn hình lớn sống động sắc nét</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Màn hình của Lenovo ThinkBook 16 G7 có kích thước lớn 16 inch, độ phân giải 2K+ sắc nét, cho hình ảnh sống động như thật với màu sắc, độ tương phản chính xác. Viền màn hình siêu mỏng giúp bạn hoàn toàn tập trung vào nội dung trước mắt. Hơn nữa, màn hình này còn có công nghệ lọc ánh sáng xanh bảo vệ mắt đã được chứng nhận bởi TUV Rheinland, giúp bạn làm việc thoải mái dù trong thời gian dài.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3239_ThinkbookG71.png" alt="" width="605" height="395"></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Tối ưu cho khả năng làm việc từ xa</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Những cuộc họp video đang là điều không còn xa lạ hiện nay, khi bạn vẫn có thể tham gia họp mà không cần phải mất thời gian di chuyển đến phòng họp, đồng thời tạo kết nối từ xa trong công việc. Lenovo ThinkBook 16 G7&nbsp;hiểu điều đó và đã xây dựng hệ thống webcam HD sắc nét, âm thanh trung thực cùng micro chống ồn. Bạn sẽ có được chất lượng cuộc gọi tối ưu nhất để công việc hoàn toàn trôi chảy.</span></p>
                        <p style="text-align: center;"><img src="https://laptopaz.vn/media/lib/3239_ThinkbookG75.png" alt="" width="805" height="239"></p>
                        <table style="margin-left: auto; margin-right: auto; height: 177px;" width="703" cellspacing="0" cellpadding="0">
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="Div_overview"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">1.&nbsp;SD card reader</span></div>
                                    </td>
                                    <td>
                                        <div class="Div_overview">
                                            <div class="Div_overview"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6.&nbsp;USB-A (USB 5Gbps), Always On</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="Div_overview"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">2.&nbsp;USB-A (USB 5Gbps)</span></div>
                                    </td>
                                    <td>
                                        <div class="Div_overview">
                                            <div class="Div_overview"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7.&nbsp;HDMI®</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="Div_overview"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">3.&nbsp;Ethernet (RJ-45)</span></div>
                                    </td>
                                    <td>
                                        <div class="Div_overview">
                                            <div class="Div_overview"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">8.&nbsp;Thunderbolt™ 4</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="Div_overview"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">4.&nbsp;Kensington® Nano Security Slot™</span></div>
                                    </td>
                                    <td>
                                        <div class="Div_overview">
                                            <div class="Div_overview"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">9.&nbsp;Headphone / microphone combo jack (3.5mm)</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="Div_overview"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">5.&nbsp;USB-C® (USB 10Gbps), with PD 3.0 &amp; DP 1.4</span></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Khả năng kết nối ấn tượng</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Lenovo ThinkBook 16 G7 đảm bảo khả năng kết nối linh hoạt và nhanh chóng nhất.&nbsp;Chuẩn WiFi 6&nbsp;cho tốc độ tải xuống nhanh hơn, băng thông rộng hơn và độ trễ thấp hơn. Nhờ những cổng kết nối tiên tiến hàng đầu, Lenovo ThinkBook 16 G7 có thể kết nối với bất kỳ thiết bị ngoại vi nào bạn muốn, phục vụ tối đa cho công việc.</span></p>
                        <p style="text-align: center;"><img src="/media/lib/3239_ThinkbookG73.png" alt="" width="607" height="398"></p>
                        <h3><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Bảo mật, an toàn và thông minh</strong></span></h3>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Lenovo ThinkBook 16 G7 đảm bảo cho dữ liệu và quyền riêng tư cá nhân của bạn luôn an toàn. Các tính năng phần cứng đều được bảo mật bởi nền tảng TPM, kiểm soát truy cập cổng kết nối, tính năng xóa an toàn, … Một màn trập trên webcam giúp bạn tránh khỏi nguy cơ bị truy cập hình ảnh trái phép khi không sử dụng. Ngoài ra laptop cũng tích hợp các tính năng thông minh&nbsp;về&nbsp;khởi động; chế độ bảo vệ mắt; làm mát thông minh. Bạn sẽ có được những trải nghiệm an toàn và thoải mái nhất trên Lenovo ThinkBook 16 G7.</span></p>
                        <p><img style="display: block; margin-left: auto; margin-right: auto;" src="/media/lib/3239_ThinkbookG72.png" alt="" width="603" height="442"></p>
                        <p><strong><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Bàn phím tuyệt vời</span></strong></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Bàn phím của&nbsp;Thinkbook 16&nbsp;G7 2024 Intel&nbsp;Ultra 5 125H<strong>&nbsp;</strong>với hành trình phím 1.5mm không chỉ mang lại cảm giác gõ phím chính xác mà còn tạo trải nghiệm thoải mái rất đặc biệt. Hành trình phím lớn cũng giúp giảm mệt mỏi trong quá trình sử dụng lâu dài, hòa mình vào không gian làm việc một cách dễ dàng và thoải mái hơn bao giờ hết.</span></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Touchpad của chiếc laptop này có kích thước lớn mang đến không gian rộng rãi cho những thao tác đa chạm và di chuyển linh hoạt trên màn hình. Mượt mà và chính xác, touchpad giúp người dùng dễ dàng thực hiện các thao tác như cuộn, phóng to, xoay.</span></p>
                        <p><img style="display: block; margin-left: auto; margin-right: auto;" src="/media/lib/3239_ThinkbookG77.png" alt="" width="604" height="431"></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Bên cạnh đó Thinkbook 16&nbsp;G7 2024<strong>&nbsp;</strong>sở hữu&nbsp;pin vô cùng mạnh mẽ, với dung lượng lên tới 71Whr. Dung lượng pin lớn này hứa hẹn mang lại thời lượng sử dụng ấn tượng, giúp người dùng thoải mái sử dụng máy tính trong thời gian dài mà không cần lo lắng về việc sạc pin liên tục.</span></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Tổng kết:</strong> Laptop Lenovo ThinkBook&nbsp;16 G7 với hiệu năng mạnh mẽ cùng thiết kế thanh lịch, là sự lựa chọn phù hợp cho hầu hết tất cả mọi người, nhất là những ai có nhu cầu học tập - văn phòng. Hiện tại LaptopAZ đang có những chương trình ưu đãi vô cùng tuyệt vời khi khách hàng đặt mua&nbsp;Lenovo ThinkBook&nbsp;16 G7 ngay từ ngày hôm nay!</span></p>
                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Lưu ý:&nbsp;</strong><em>Bài viết và hình ảnh chỉ có tính chất tham khảo vì cấu hình và đặc tính sản phẩm có thể thay đổi theo thị trường và từng phiên bản. Quý khách cần cấu hình + hình ảnh cụ thể vui lòng liên hệ với các tư vấn viên để được trợ giúp.</em></span></p>
                    </div>
                </section>
                <div id="eJOY__extension_root" class="eJOY__extension_root_class" style="all: unset;">
                    <p><img src="/media/lib/2638_anhkh4anh.jpg" alt=""></p>
                    <p style="text-align: center;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Địa chỉ mua bán Laptop uy tín tại Hà Nội và trên toàn quốc - LaptopAZ.vn<br>Cơ sở 1: Số 18 Ngõ 121 - Thái Hà - Đống Đa - Hà Nội</strong></span><br><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Cơ sở 2: Số 56 Trần Phú - Hà Đông - Hà Nội</strong></span><br><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Liên hệ ngay: Hotline 0825.233.233</strong></span></p>
                    <p style="text-align: center;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><a href="https://laptopaz.vn/mua-hang-tu-xa.html">Chuyển hàng đi toàn quốc nhận máy đúng như mô tả mới phải thanh toán xem chi tiết tại đây</a></span></p>
                </div>
                <div style="width: 100%;display: flex;justify-content: center;"><a href="https://www.facebook.com/messages/t/110101228608585" target="_blank" style="width: 180px;text-align: center;padding: 10px;text-transform: uppercase;background: #2b80dd;color: #fff;font-family: 'Roboto';font-weight: 700;border-radius: 10px;">Liên hệ ngay với <br>nhân viên tư vấn</a></div>
            </div>

            @*
                Comment
            *@
            <hr />
            <h3>Bình luận</h3>

            <div class="comments-section">
                @if (Model.Reviews != null && Model.Reviews.Count > 0)
                {
                    <div style=" 
                         max-height: 400px; /* Hoặc giá trị tùy theo nhu cầu */
                         overflow-y: auto; /* Kích hoạt cuộn dọc */
                         padding-right: 10px;">
                        @foreach (var review in Model.Reviews)
                        {
                            <div class="comment">
                                <div class="user-info">
                                    <img src="@review.User.Image" alt="@review.User.Name" class="user-avatar" />
                                    <span class="user-name">@review.User.Name</span>
                                </div>
                                <p class="comment-content">@review.Comment</p>
                                <span class="comment-date">@review.ReviewDate.ToString("dd/MM/yyyy HH:mm")</span>

                                @*   @if (!string.IsNullOrEmpty(review.AdminReply))
                            {*@
                                <div class="admin-reply">
                                    <p class="admin-reply-content"><b>Admin:</b> thanks</p>
                                    <span class="admin-reply-date">@DateTime.Now.ToString("dd/MM/yyyy HH:mm")</span>
                                </div>

                            </div>
                        }
                    </div>

                }
                else
                {
                    <p>Chưa có bình luận nào.</p>
                }

                <div class="add-comment">
                    <textarea id="commentContent" placeholder="Nhập bình luận của bạn" required></textarea>
                    <button id="submitComment" onclick="Comment(@Model.product.ProductId)" class="btn btn-primary">Gửi bình luận</button>
                </div>


            </div>

        </div>
    </div>
    <div class="col column-3 pl-0" id="SectionConfig">
        <div class="bg-white parameter">
            <div class="title-tab">
                <h3>Thông số kỹ thuật</h3>
            </div>
            <div class="pro-parameter">
                <div class="prodetail-spec-full" style="font-size: 11px;font-family: Times New Roman;">

                    <p style="    margin-top: 5px;"><strong>Thông số kỹ thuật @Model.product.Product.ProductName</strong></p>
                    <div id="eJOY__extension_root" class="eJOY__extension_root_class" style="all: unset;">
                        <table class="table table-striped table-bordered" style="height: 258px; float: left;" width="272">
                            <tbody>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>CPU</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.CPU.TenCPU</span></td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>RAM</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.RAM.DungLuong</span></td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Ổ cứng</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.ODia.TenODia</span></td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Card đồ họa</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.CardDoHoa.TenCardDoHoa</span></td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Màn hình</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.ManHinh.KichThuocManHinh</span></td>
                                </tr>
                                <tr>

                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Kết nối</strong></span></td>
                                    <td scope="row">
                                        <p><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">1x USB type C<br>1x HDMI 2.1<br>1x Thunderbolt<br>1x Headphone / mic combo 3.5<br>2x USB type A<br>1x TGX<br>1x Đầu đọc thẻ SD, 1x RJ45</span></p>
                                    </td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Trọng lượng</strong></span></td>
                                    <td scope="row"><span style="font-size: 8pt; font-family: arial, helvetica, sans-serif;">@Model.config.TrongLuong.SoKg kg</span></td>
                                </tr>
                                <tr>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;"><strong>Pin</strong></span></td>
                                    <td scope="row"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">@Model.config.Pin.DungLuongPin</span></td>
                                </tr>

                            </tbody>
                        </table>
                        <p style="text-align: left;"><span style="font-family: arial, helvetica, sans-serif; font-size: 8pt;">&nbsp;</span></p>
                    </div>

                </div>

            </div>
        </div>

        <div class="bg-white list-pro-same" style="margin-top: 20px;">
            <div class="title-tab">
                <h4>Sản phẩm tương đương</h4>
            </div>
            <ul class="related-products">
                @if (Model.RelatedProducts != null)
                {
                    @foreach (var item in Model.RelatedProducts)
                    {
                        <li class="related-product-item">
                            <a href="@Url.Action("ProductDetail", "Home", new { id = item.ProductId, configId = item.Specifications.FirstOrDefault()?.ConfigId, area = "Customer" })" style="display: flex
;">

                                <img src="@item.Img" alt="@item.ProductName" class="related-product-img" />


                                <div class="related-product-info">
                                    <h5 class="related-product-name">@item.ProductName</h5>
                                    <p class="related-product-price">@item.Specifications.FirstOrDefault()?.Price.ToString("#,##0.##") đ</p>
                                </div>
                            </a>
                        </li>
                    }
                }

            </ul>
        </div>

    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
       function Comment(productId) {
        const comment = $('#commentContent').val().trim();

        if (!comment) {
            alert('Vui lòng nhập nội dung bình luận.');
            return;
        }
        console.log(productId);
        $.ajax({
            url: '/Customer/Home/AddComment',
            type: 'POST',
            data: { productId: productId, comment: comment },
            success: function (response) {
                if (response.success) {
                    // Thêm bình luận mới vào giao diện
                    $('.comments-section').prepend(`
                        <div class="comment">
                            <div class="user-info">
                                <img src="${response.comment.userImage}" alt="${response.comment.userName}" class="user-avatar" />
                                <span class="user-name">${response.comment.userName}</span>
                            </div>
                            <p class="comment-content">${response.comment.content}</p>
                            <span class="comment-date">${response.comment.date}</span>
                        </div>
                    `);

                    // Xóa nội dung trong ô textarea
                    $('#commentContent').val('');
                } else {
                    alert('Thêm bình luận không thành công: ' + response.message);
                }
            },
            error: function () {
                alert('Có lỗi xảy ra khi thêm bình luận.');
            }
        });
    }


</script>